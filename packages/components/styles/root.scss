@import './type.scss';
@import './size.scss';
@import './variables.scss';

$components: button, input, select;

@function typed($type, $key) {
    @return map-get($type, $key);
}

@mixin kl-attribute($typeName, $attrKey, $attrName) {
    #{$attrKey}: typed($typeName, $attrName);
}

//复用匹配组件
@mixin matchComponent($typeKey) {
    @each $comKey, $comValue in $components {
        .kl-#{$comKey}--#{$typeKey} {
            @content;
        }
    }
}

:root {
    //type类型判断
    @each $typeKey, $typeValue in $typeStyle {
        @include matchComponent($typeKey) {
            // box-sizing: border-box;
            border-radius: 5px;
            //button
            @include kl-attribute($typeValue, '--kl-bg-color', 'kl-bg');
            @include kl-attribute($typeValue, '--kl-font-color', 'kl-fontColor');
            @include kl-attribute($typeValue, '--kl-border', 'kl-border');
        }
    }

    //size
    @each $sizeKey, $sizeValue in $sizeStyle {
        @include matchComponent($sizeKey) {
            @include kl-attribute($sizeValue, 'padding', 'kl-paddingSize');
            @include kl-attribute($sizeValue, 'min-width', 'kl-width');
            @include kl-attribute($sizeValue, 'min-height', 'kl-height');
            @include kl-attribute($sizeValue, 'font-size', 'kl-fontSize');
        }
    }
}
